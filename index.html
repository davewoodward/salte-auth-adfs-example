<!DOCTYPE html>
<html>
<head>
<title>SPA Example</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
<script src="/node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
<link rel="import" href="/components/greeting.html">

<script src="/node_modules/@salte-io/salte-auth/dist/salte-auth.js"></script>
<script>
  const auth = new salte.SalteAuth({
    providerUrl: 'https://adfs.example.com/adfs',
    responseType: 'id_token token',
    redirectUrl: 'http://app.example.com/',
    clientId: 'XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX',
    scope: 'openid',
    routes: true,
    endpoints: [
      'http://api.example.com/'
    ],
    provider: 'azure',
    queryParams: {
      resource: 'http://api.example.com/',
      response_mode: 'form_post'
    }
  });

  if (auth.profile.idTokenExpired) {
    auth.loginWithRedirect();
  }
</script>
</head>
<body>
  <example-greeting/>
</body>
</html>
